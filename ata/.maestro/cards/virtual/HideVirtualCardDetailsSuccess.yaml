appId: com.nymcard.masaar

tags:
  - cards
  - success
  - virtual_cards

---
# Execute the flow to show card details first
- runFlow: ../../cards/virtual/ShowVirtualCardDetailsSuccess.yaml

# Tap on the Hide details button to conceal card information
- tapOn:
    label: Tap on Hide details button to hide card details
    id: ${output.cards.hideDetailsButton}

# Verify that the card number is now masked or hidden
- assertVisible:
    label: Verify Card number hidden again
    id: ${output.cards.cardNumberHidden}

# Verify that the card expiry date is hidden
- assertVisible:
    label: Verify Card expiry hidden again
    id: ${output.cards.cardExpiryHidden}

# Verify that the CVV is hidden
- assertVisible:
    label: Verify CVV hidden again
    id: ${output.cards.cvvHidden}

# Verify that the toggle button text has changed back to "Show details"
- assertVisible:
    label: Verify Hide details option button changed to Show details again
    id: ${output.cards.showDetailsButton}

# Capture platform-specific screenshots for verification
- runFlow:
    label: Take Android Hide Card details screenshot
    when:
      platform: android
    commands:
      - takeScreenshot: HideVirtualCardDetailsAndroid

- runFlow:
    label: Take iOS Hide Card details screenshot
    when:
      platform: ios
    commands:
      - takeScreenshot: HideVirtualCardDetailIOS
